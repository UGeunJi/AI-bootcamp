#### 하노이의 탑(Tower of Hanoi)은 원반을 이동해서 탑을 쌓는 게임입니다. 단순한 게임이지만 재귀적인 알고리즘을 쉽게 이해할 수 있는 예로 잘 알려져 있습니다.

### 게임 규칙

A, B, C 세 개의 막대가 있으며, A 막대에 5개의 원반이 꽂혀 있습니다. 5개의 원반을 순서를 유지한 채 C로 이동하는 것이 게임의 목적입니다.

#### 이동 조건

(1) 한 번에 한 개의 원반만 이동할 있습니다.
(2) 작은 원반의 위에 그것보다 큰 원반을 둘 수 없습니다.

이 조건하에서 모든 원반을 마지막 막대(C)로 이동하는 것이 이 게임의 목표입니다. 이 과정에서 B나 C로 사용해서 원반들을 임시로 움직일 수 있습니다.

### 원리

1. n + 1개를 이동하는 경우를 생각해 보겠습니다. 가장 큰원반은 무시합니다.

2. 가정에 의해 n개라면 이동할 수 있으므로 n개를 B로 이동합니다.

3. 가장 큰 원반을 C로 이동합니다.

4. B에 있는 n개를 C로 이동합니다. 이것으로 이동이 완료됩니다.

### 해설

n개 원반의 하노이 탑 문제는 n-1개의 하노이 탑을 해결하는 방식을 이용하면 되는 것입니다. 이 n-1개의 하노이 탑을 풀려면 n-2개의 하노이 탑을 해결하는 방식을 이용하면 됩니다.
이것을 계속 하다 보면 최종적으로 한 개의 원반을 푸는 방법에까지 이릅니다.

이처럼 알고리즘의 기술에 알고리즘 자신을 이용하는 것을 '재귀'라고 합니다. 이 재귀라는 개념은 다양한 알고리즘에 사용되고 있으며, '재귀적 알고리즘'이라고 합니다.
2-6절의 병합 정렬이나 2-7절의 퀵 정렬은 재귀적 알고리즘의 일종입니다.

### 보충

여기서 다룬 재귀적 알고리즘의 계산량을 생각해 봅시다.

n개 원반의 하노이 탑을 해결하는 경우의 계산량을 T(n)이라고 하겠습니다. 한 개인 경우는 한 번의 이동으로 끝나므로 T(1) = 1이 됩니다. n개의 경우, 먼저 위의 n-1개를 A로부터
B로 이동하므로 T(n-1), 가장 큰 원반을 C로 이동하기 위한 1, B에 있는 n-1개를 C로 이동하기 위한 T(n-1)이 필요하므로 T(n)=2T(n-1)+1이 됩니다.

이것을 정리하면 $T(n)=2^n - 1$이 되며, 이것보다 계산량이 적은 해법은 지금까지 존재하지 않습니다.

---

$a_n = ar^n-1$ 등비수열의 일반항 <br>
$S_n$ = $a(r^n - 1) \over (r-1)$  등비수열의 합

T(n) = T(n - 1) + 1 + T(n - 1) = 2T(n - 1) + 1 <br>

T(n - 1) = 2T(n - 2) + 1 $\cdots$ 대입   -->   $2^2 T(n - 2) + 2 + 1$

T(n - 2) = 2T(n - 3) + 1 $\cdots$ 대입   -->   $2^3 T(n - 3) + 4 + 2 + 1$ <br>
... <br>
T(n) = $2^n-1 T(n) + \cdots + 2^2 + 2^1 + 2^0$   --> a = 1, r = 2

$S_n$ = $T_n$ = $1(2^n - 1) \over (2 - 1)$ = $2^n - 1$

O( $T_n$) = $2^n$

---

#### 점화식

T(n) = 2T(n - 1) + 1

T(n + 1) = 2T(n) + 1

T(n + 1) + 1 = 2(T(n) + 1) $\cdots$ 양변에 1 더함

B(n + 1) = 2B(n) $\cdots$ B(n) = T(n) + 1으로 치환 $~ ~ ~~ ~~ ~ ~$ B(1) = T(1) + 1 = 1 + 1 = 2 = a, r = 2

$S_n$ = $B_n$ = $2(2^n - 1) \over (2 - 1)$ = $2(2^n - 1)$ = $2^{n+1}$ - 2 = $2^n$

B(n) = T(n) + 1  <br>

$2^n$ = T(n) + 1 $~~~~~~ ~$ T(n) = $2^n$ - 1 <br>

O(Tn) = $2^n$
